<!doctype html>
<html class="no-js" lang="en" xmlns:th="https://www.thymeleaf.org"
	   xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
       layout:decorate="layout/layout(title='마이페이지')">
<head>
    <title>Safira - my account</title>
    <style>
        .modal-dialog {
        margin: auto;
        margin-top: 20vh; /* 회원탈퇴창 가운데 정도로 떨어트림 */
    }

    </style>

</head>

<body>

   <!--header area start-->
    <th:block layout:fragment="content">
    <!--offcanvas menu area start-->
    <!-- <div class="off_canvars_overlay">
                
    </div>
    <div class="offcanvas_menu">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="canvas_open">
                        <a href="javascript:void(0)"><i class="icon-menu"></i></a>
                    </div>
                    <div class="offcanvas_menu_wrapper">
                        <div class="canvas_close">
                            <a href="javascript:void(0)"><i class="icon-x"></i></a>  
                        </div>
                        <div class="language_currency">
                            <ul>
                                <li class="language"><a href="#"> Language <i class="icon-right ion-ios-arrow-down"></i></a>
                                    <ul class="dropdown_language">
                                        <li><a href="#">French</a></li>
                                        <li><a href="#">Spanish</a></li>
                                        <li><a href="#">Russian</a></li>
                                    </ul>
                                </li>
                                <li class="currency"><a href="#"> Currency <i class="icon-right ion-ios-arrow-down"></i></a>
                                    <ul class="dropdown_currency">
                                        <li><a href="#">€ Euro</a></li>
                                        <li><a href="#">£ Pound Sterling</a></li>
                                        <li><a href="#">$ US Dollar</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                        <div class="header_social text-right">
                            <ul>
                                <li><a href="#"><i class="ion-social-twitter"></i></a></li>
                                <li><a href="#"><i class="ion-social-googleplus-outline"></i></a></li>
                                <li><a href="#"><i class="ion-social-youtube-outline"></i></a></li>
                                <li><a href="#"><i class="ion-social-facebook"></i></a></li>
                                <li><a href="#"><i class="ion-social-instagram-outline"></i></a></li>
                            </ul>
                        </div>
                     
                        <div class="call-support">
                            <p><a href="tel:(08)23456789">(08) 23 456 789</a> Customer Support</p>
                        </div>
                        <div id="menu" class="text-left ">
                            <ul class="offcanvas_main_menu">
                                <li class="menu-item-has-children active">
                                    <a href="#">Home</a>
                                    <ul class="sub-menu">
                                        <li><a href="index.html">Home 1</a></li>
                                        <li><a href="index-2.html">Home 2</a></li>
                                        <li><a href="index-3.html">Home 3</a></li>
                                        <li><a href="index-4.html">Home 4</a></li>
                                        <li><a href="index-5.html">Home 5</a></li>
                                    </ul>
                                </li>
                                <li class="menu-item-has-children">
                                    <a href="#">Shop</a>
                                    <ul class="sub-menu">
                                        <li class="menu-item-has-children">
                                            <a href="#">Shop Layouts</a>
                                            <ul class="sub-menu">
                                                <li><a href="shop.html">shop</a></li>
                                                <li><a href="shop-fullwidth.html">Full Width</a></li>
                                                <li><a href="shop-fullwidth-list.html">Full Width list</a></li>
                                                <li><a href="shop-right-sidebar.html">Right Sidebar </a></li>
                                                <li><a href="shop-right-sidebar-list.html"> Right Sidebar list</a></li>
                                                <li><a href="shop-list.html">List View</a></li>
                                            </ul>
                                        </li>
                                        <li class="menu-item-has-children">
                                            <a href="#">other Pages</a>
                                            <ul class="sub-menu">
                                                <li><a href="cart.html">cart</a></li>
                                                <li><a href="wishlist.html">Wishlist</a></li>
                                                <li><a href="checkout.html">Checkout</a></li>
                                                <li><a href="my-account.html">my account</a></li>
                                                <li><a href="404.html">Error 404</a></li>
                                            </ul>
                                        </li>
                                        <li class="menu-item-has-children">
                                            <a href="#">Product Types</a>
                                            <ul class="sub-menu">
                                                <li><a href="product-details.html">product details</a></li>
                                                <li><a href="product-sidebar.html">product sidebar</a></li>
                                                <li><a href="product-grouped.html">product grouped</a></li>
                                                <li><a href="variable-product.html">product variable</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                                <li class="menu-item-has-children">
                                    <a href="#">blog</a>
                                    <ul class="sub-menu">
                                        <li><a href="blog.html">blog</a></li>
                                        <li><a href="blog-details.html">blog details</a></li>
                                        <li><a href="blog-fullwidth.html">blog fullwidth</a></li>
                                        <li><a href="blog-sidebar.html">blog sidebar</a></li>
                                    </ul>

                                </li>
                                <li class="menu-item-has-children">
                                    <a href="#">pages </a>
                                    <ul class="sub-menu">
                                        <li><a href="about.html">About Us</a></li>
                                        <li><a href="services.html">services</a></li>
                                        <li><a href="faq.html">Frequently Questions</a></li>
                                        <li><a href="contact.html">contact</a></li>
                                        <li><a href="login.html">login</a></li>
                                        <li><a href="404.html">Error 404</a></li>
                                    </ul>
                                </li>
                                <li class="menu-item-has-children">
                                    <a href="my-account.html">my account</a>
                                </li>
                                <li class="menu-item-has-children">
                                    <a href="about.html">about Us</a>
                                </li>
                                <li class="menu-item-has-children">
                                    <a href="contact.html"> Contact Us</a> 
                                </li>
                            </ul>
                        </div>
                        <div class="offcanvas_footer">
                            <span><a href="#"><i class="fa fa-envelope-o"></i> info@yourdomain.com</a></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> -->
    <!--offcanvas menu area end-->
    

    <!--header area end-->
    
    <!--breadcrumbs area start-->
    <!-- <div class="breadcrumbs_area">
        <div class="container">   
            <div class="row">
                <div class="col-12">
                    <div class="breadcrumb_content">
                       <h3>My Account</h3>
                        <ul>
                            <li><a href="index.html">home</a></li>
                            <li>My account</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>         
    </div> -->
    <!--breadcrumbs area end-->
    
    <!-- my account start  -->
    <section class="main_content_area">
        <div class="container">   
            <div class="account_dashboard">
                <div class="row">
                    <div class="col-sm-12 col-md-3 col-lg-3">
                        <!-- Nav tabs -->
                        <div class="dashboard_tab_button">
                            <ul role="tablist" class="nav flex-column dashboard-list">
                                <li><a href="userinfo" class="nav-link">내정보</a></li>
                                <li><a href="mypet"  class="nav-link">마이펫</a></li>
                                <li><a href="couponList"  class="nav-link">쿠폰</a></li>
                                <li><a th:if="${session.userName == '관리자'}" href="adminAdoptList" 
                                			class="nav-link">관리자 전용 입양목록</a></li>
                                <li><a th:if="${session.userName != '관리자'}" href="adoptByUserNo"
											class="nav-link">입양</a></li>  
                                <li><a th:if="${session.userName == '관리자'}" href="adminVolunteerList"
											class="nav-link">관리자 전용봉사목록</a></li>
								<li><a th:if="${session.userName != '관리자'}" href="volunteerByUserNo"
											class="nav-link">봉사</a></li>  
                                <li><a th:if="${session.userName == '관리자'}" href="adminVisitList"
											class="nav-link">관리자 전용견학목록</a></li>
									<li><a th:if="${session.userName != '관리자'}" href="visitByUserNo"
											class="nav-link">견학</a></li>
											<li><a th:if="${session.userName == '관리자'}" href="centerListAll"
											class="nav-link">관리자 보호소목록</a></li>
									<li><a th:if="${session.userName != '관리자'}" style="display: none;"
											class="nav-link"></a></li>
                                <li> <a th:if="${session.userName == '관리자'}" href="ordersList" class="nav-link">관리자
											전용주문목록</a></li>
								<li> <a th:if="${session.userName != '관리자'}" href="orders" class="nav-link">주문목록</a></li>
                                <li><a href="logout" class="nav-link">로그아웃</a></li>
                                <li><a href="userDelete" class="nav-link">회원탈퇴</a></li>

                            </ul>
                        </div>    
                    </div>
                    <div class="col-sm-12 col-md-9 col-lg-9">
                        <!-- Tab panes -->
                        <div class="tab-content dashboard_content">
							
                            <!--<div class="tab-pane fade" id="account-details">-->
                                <h3>내정보 </h3>
								<div class="login">
									<div class="login_form_container">
										<div class="account_login_form">
											<form name="f" action="userUpdate">
												<p><a href="#"></a></p>
												<div class="input-select"></div>

												<label>이름</label>
												<input type="text" name="userName" th:value="${userinfo.userName}">
												<label>비밀번호</label>
												<input type="password" value="" name="userPassword"
													th:value="${userinfo.userPassword}">
												<label>핸드폰번호</label>
												<input type="text" value="" name="userPhoneNumber"
													th:value="${userinfo.userPhoneNumber}">
												<label>주소</label>
												<input type="text" value="" name="userAddress"
													th:value="${userinfo.userAddress}">

												<br>

												<div class="save_button primary_btn default_button">
													<button type="button" onclick="a()">Save</button>
												</div>
											</form>
										</div>
									</div>
								</div>
							
							<div class="modal fade" id="deleteModal">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <!-- 모달 헤더 -->
                                        <div class="modal-header">
                                            <h4 class="modal-title">회원탈퇴 이유 선택</h4>
                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        </div>
                            
                                        <!-- 회원탈퇴 모달 본문 -->
                                        <div class="modal-body">
                                            <form id="deleteReasonForm">
                                                <!-- 탈퇴 이유 선택 -->
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" name="reason" id="reason1" value="Not satisfied">
                                                    <label class="form-check-label" for="reason1">서비스에 만족하지 않음</label>
                                                </div>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="radio" name="reason" id="reason2" value="Found alternative">
                                                    <label class="form-check-label" for="reason2">다른 서비스를 사용</label>
                                                </div>
                                                <!-- ... 다른 이유들도 추가 가능 ... -->
                                            </form>
                                        </div>
                            
                                        <!-- 모달 푸터 -->
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-danger" id="confirmDelete">탈퇴하기</button>
                                        </div>
                                    </div>
                                </div>
                            </div>	
							
                           <!--   </div>-->
                        </div>
                    </div>
                </div>
            </div>  
        </div>        	
    </section>	
    
    <!-- my account end   --> 

      <!--footer area start-->
  
 
    <!--footer area end-->
	<script>
		function a() {
			var userNameInput = document.querySelector('input[name="userName"]');
			var userPasswordInput = document.querySelector('input[name="userPassword"]');
			var userPhoneNumberInput = document.querySelector('input[name="userPhoneNumber"]');
			var userAddressInput = document.querySelector('input[name="userAddress"]');

			var userName = userNameInput.value.trim();
			var userPassword = userPasswordInput.value.trim();
			var userPhoneNumber = userPhoneNumberInput.value.trim();
			var userAddress = userAddressInput.value.trim();

			if (userName === '') {
				alert('이름을 입력해주세요.');
			} else if (userPassword === '') {
				alert('비밀번호를 입력해주세요.');
			} else if (userPhoneNumber === '') {
				alert('핸드폰번호를 입력해주세요.');
			} else if (userAddress === '') {
				alert('주소를 입력해주세요.');
			} else {
				window.location.href=
				'userUpdate?userName='+userName+'&userPassword='+userPassword+'&userPhoneNumber='+userPhoneNumber+'&userAddress='+userAddress;
			}
			
		}

	</script>
	
<!-- 회원탈퇴  -->
<script type="text/javascript">
	function userDelete(){
		window.location.href = 'userDelete';
	}
    $('#confirmDelete').on('click', function() {
        const selectedReason = $('input[name="reason"]:checked').val();
        if (selectedReason) {
            console.log("회원탈퇴 이유:", selectedReason);
            // 여기에 탈퇴 로직
            userDelete(); 
            // 탈퇴가 완료되면 index.html로 리다이렉트
        	//window.location.href = 'index';
        } else {
            alert("탈퇴하시려면 이유를 선택해주세요.");
        }
    });
</script>

</th:block>		


</body>

</html>