<!DOCTYPE html>
<html class="no-js" lang="en" xmlns:th="https://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="layout/layout(title='center_insert_form')">

<head>
	<title>Register</title>
</head>

<body>
	<!--header area start-->

	<!--offcanvas menu area start-->

	<!--header area end-->

	<!--breadcrumbs area start-->


	<!--breadcrumbs area end-->

	<!-- customer login start -->
	<th:block layout:fragment="content">
		<div class="customer_login" id="content">
			<div class="container">
				<div class="row">
					<!--login area start-->

					<!--login area start-->

					<!--register area start-->
					<div class="col-lg-6 col-md-6" style="margin-left: 300px;">
						<div class="account_form register"
							style="display: flex; flex-direction: column; justify-content: center; align-items: center;">
							<h2>상품 등록</h2>

							<form name="f" id="center_insert_form" action="#" method="post"
								th:action="@{'/centerInsertForm'}" onsubmit="submitForm()">
								<p>
									<label>센터 이름<span></span></label>
									<input type="text" id="centerName" name="centerName">
								</p>
								<p>
									<label>지역<span></span></label>
									<input type="text" id="centerLocal" name="centerLocal">
								</p>
								<p>
									<label>연락처<span></span></label>
									<input type="text" id="centerPhoneNumber" name="centerPhoneNumber">
								</p>
								<p>
									<label>영업시간<span></span></label>
									<input type="text" id="centerOpenCloseTime" name="centerOpenCloseTime">
								</p>




								<!--	<label>상품 이미지</label>
								<input type="file" id="imageFile" name="imageFile" style="border: none;">
								<div class="login_submit" style="margin-top: 10px;">-->


								<button type="submit" th:text="글쓰기">등록</button>






						</div>
						</form>
					</div>

				</div>
			</div>
		</div>
		</div>

		<script>

			function submitForm() {
				var formData = new FormData($('#center_insert_form')[0]);
				formData.append('centerName', $('#centerName').val());
				formData.append('centerPhoneNumber', $('#centerPhoneNumber').val());
				formData.append('centerLocal', $('#centerLocal').val());
				formData.append('centerOpenCloseTime', $('#centerOpenCloseTime').val());

				$.ajax({
					url: '/centerInsertForm',
					type: 'POST',
					data: formData,
					processData: false,
					contentType: false,
					success: function (response) {
						console.log(response);
					},
					error: function (error) {
						console.error(error);
					}
				});
			}



			$('#center_insert_form').on('submit', function (e) {
				//alert('aaa');
				// 폼이 유효하지 않으면 전송을 중지
				if (!$(this).valid()) {
					e.preventDefault();

				}
				//alert('안먹나?');
				window.location.href = "centerListAll";
			});
		</script>

	</th:block>
	<!-- customer login end -->

	<!--footer area start-->

	<!--footer area end-->
</body>

</html>